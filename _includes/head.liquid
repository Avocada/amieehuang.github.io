<!-- Metadata, OpenGraph and Schema.org -->
{% include metadata.liquid %}

{%- assign cache_bust = site.time | date: '%s' -%}

<!-- Bootstrap (local) -->
<link rel="stylesheet" href="{{ '/assets/css/bootstrap.min.css' | relative_url }}">

<!-- OPTIONAL: MDB (local) -->
<link rel="stylesheet" href="{{ '/assets/css/mdb.min.css' | relative_url }}">

<!-- Main theme CSS -->
<link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}?v={{ cache_bust }}">

<!-- Syntax highlighting (light) -->
<link
  rel="stylesheet"
  href="{{ '/assets/css/jekyll-pygments-themes-github.css' | relative_url }}"
  id="highlight_theme_light"
>

<link rel="canonical" href="{{ page.url | replace:'index.html','' | absolute_url }}">

{% if site.enable_darkmode %}
  <!-- Dark Mode -->
  <script src="{{ '/assets/js/theme.js' | relative_url }}?v={{ cache_bust }}"></script>
  <link
    rel="stylesheet"
    href="{{ '/assets/css/jekyll-pygments-themes-native.css' | relative_url }}"
    media="none"
    id="highlight_theme_dark"
  >
  <script>
    initTheme();
  </script>
{% endif %}

{%- comment -%}
  Publications page extras: fonts + page-specific CSS.
  Adjust the condition if your permalink/URL differs.
{%- endcomment -%}
{% if page.permalink == '/publications/' or page.url contains '/publications' %}
  <!-- Performance: preconnect for Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Fonts: Inter (sections) + Merriweather (page title) -->
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600;700&family=Merriweather:wght@700&display=swap"
  >

  <!-- Publications-only styles -->
  <link rel="stylesheet" href="{{ '/assets/css/publications.css' | relative_url }}?v={{ cache_bust }}">
{% endif %}

<!-- Favicon -->
{% if site.icon.size <= 4 %}
  <link
    rel="shortcut icon"
    href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>{{ site.icon }}</text></svg>"
  >
{% elsif site.icon != blank %}
  <link rel="shortcut icon" href="{{ site.icon | prepend: '/assets/img/' | relative_url }}">
{% endif %}
